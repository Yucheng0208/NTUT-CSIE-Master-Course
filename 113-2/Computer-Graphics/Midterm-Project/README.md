# 3D OBJ æ¨¡å‹ç€è¦½å™¨æœŸä¸­å°ˆæ¡ˆ

æœ¬å°ˆæ¡ˆç‚ºåœ‹ç«‹è‡ºåŒ—ç§‘æŠ€å¤§å­¸è³‡è¨Šå·¥ç¨‹ç›¸é—œèª²ç¨‹çš„ **æœŸä¸­å°ˆæ¡ˆ**ï¼Œæ—¨åœ¨é€é OpenGL èˆ‡ FreeGLUT æŠ€è¡“ï¼Œå»ºç«‹ä¸€å€‹å…·å‚™äº’å‹•å¼æ“ä½œèˆ‡å¤šæ¨¡å‹åˆ‡æ›èƒ½åŠ›çš„ **3D æ¨¡å‹ç€è¦½å™¨**ã€‚ä½¿ç”¨è€…å¯è—‰ç”±éµç›¤èˆ‡æ»‘é¼ æ“ä½œä¾†æ—‹è½‰ã€ç¸®æ”¾ã€å¹³ç§»æ¨¡å‹ï¼Œä¸¦é€éå³éµé¸å–®è¼‰å…¥ä¸åŒçš„ OBJ æ¨¡å‹é€²è¡Œè§€å¯Ÿã€‚æ­¤å°ˆæ¡ˆç‰¹åˆ¥å¼·èª¿ç¨‹å¼è¨­è¨ˆçš„çµæ§‹æ€§èˆ‡äº’å‹•æ€§ä»‹é¢çš„è¨­è¨ˆã€‚

---

## å°ˆæ¡ˆæŠ€è¡“èªªæ˜

- **ç¨‹å¼èªè¨€**ï¼šC++
- **åœ–å½¢å‡½å¼åº«**ï¼šOpenGL + FreeGLUT
- **æ¨¡å‹æ ¼å¼**ï¼šæ”¯æ´ Wavefront `.obj`
- **äº’å‹•ä»‹é¢**ï¼šéµç›¤æ“ä½œ + æ»‘é¼ å³éµé¸å–®
- **å°ˆæ¡ˆæª”æ¡ˆçµæ§‹**ï¼š
  ```
  ğŸ“ models/           // æ¨¡å‹è³‡æ–™å¤¾ï¼ˆéœ€æ”¾ç½® .obj æ¨¡å‹æª”ï¼‰
  â””â”€â”€ main.cpp         // ä¸»ç¨‹å¼ï¼ŒåŒ…å«æ¨¡å‹è®€å–èˆ‡æ¸²æŸ“é‚è¼¯
  ```

---

## åŠŸèƒ½èˆ‡æ“ä½œèªªæ˜

### ä¸»è¦åŠŸèƒ½

- âœ… æ¨¡å‹è¼‰å…¥ï¼šé è¨­å…§å»º 4 å€‹æ¨¡å‹ï¼ˆèŒ¶å£ºã€æ³°è¿ªç†Šã€è‘«è˜†ã€å…«é¢é«”ï¼‰
- âœ… æ¨¡å‹æ—‹è½‰ã€å¹³ç§»èˆ‡ç¸®æ”¾æ“ä½œï¼ˆéµç›¤æ§åˆ¶ï¼‰
- âœ… ä¸‰ç¨®æ¸²æŸ“æ¨¡å¼ï¼šé» / ç·š / é¢
- âœ… åˆ‡æ›éš¨æ©Ÿè‰²å½©æ¨¡å¼
- âœ… æ¨¡å‹è‡ªå‹•ç½®ä¸­èˆ‡ç­‰æ¯”ä¾‹ç¸®æ”¾é¡¯ç¤º
- âœ… ç•«é¢å·¦ä¸‹è§’é¡¯ç¤ºæ¨¡å‹è³‡è¨Šï¼ˆåç¨±ã€æ—‹è½‰è§’åº¦ã€æ·±åº¦ï¼‰

### éµç›¤æ§åˆ¶

| éµä½ | åŠŸèƒ½ |
|:----:|:-----|
| `W/S` | ä¸Šä¸‹æ—‹è½‰ X è»¸ |
| `A/D` | å·¦å³æ—‹è½‰ Y è»¸ |
| `Q/E` | é †é€†æ™‚é‡æ—‹è½‰ Z è»¸ |
| `Z/X` | ç¸®æ”¾æ¨¡å‹ (Z è»¸ç§»å‹•) |
| `R`   | é‡ç½®æ¨¡å‹ä½ç½®èˆ‡è§’åº¦ |
| `æ–¹å‘éµ` | ç§»å‹•æ¨¡å‹æ–¼ XY å¹³é¢ |
| `Page Up/Page Down` | æ¨¡å‹é è¿‘å‰å¾Œèª¿æ•´ |

### æ»‘é¼ å³éµé¸å–®åŠŸèƒ½

- **Model**
  - Load Teapot
  - Load Teddy
  - Load Gourd
  - Load Octahedron
- **Render Mode**
  - Render: Point
  - Render: Line
  - Render: Face
- **Color Mode**
  - Toggle Random Color
- **Clear Model**
- **Exit**

---

## æ•…éšœæ’é™¤

åœ¨`MacOS`ç³»çµ±ç’°å¢ƒä¸‹çš„`CLion`å°‡æœƒç™¼ç”Ÿé‹è¡Œå¾Œç„¡æ³•é †åˆ©è®€å–`.obj`æª”æ¡ˆï¼Œæ•…éµå¾ªä»¥ä¸‹è§£æ±ºæ­¥é©Ÿï¼š

1. é»é¸ä¸Šæ–¹é¸å–®çš„`Run`ã€‚
2. ä¸¦åœ¨æ¸…å–®ä¸­æ‰¾åˆ°`Edit Configurations`ã€‚
3. é€²å…¥å¾Œå°‡`working directory`ï¼Œæ”¹ç‚º`main.cpp`çš„ç›®éŒ„ã€‚

> [!Note]
> å°æ–¼é€™é …å•é¡Œç”¢ç”Ÿçš„åŸå› ï¼Œä¸»è¦èˆ‡`macOS`é‹è¡Œæ™‚æœƒå»`cmake-build-debug` çš„ç›®éŒ„ä¸­è®€å–æª”æ¡ˆï¼Œæ¥è‘—é€²è¡Œé‹è¡Œï¼Œä½†æ˜¯`.obj`ä¸¦æœªåœ¨è©²ç›®éŒ„ä¸­ï¼Œå› æ­¤ç„¡æ³•è®€å–ï¼Œé€éå·¥ä½œç›®éŒ„é‡æ–°å°å¼•å¾Œï¼Œå°±èƒ½è§£æ±ºã€‚

### Bonus
ä½¿ç”¨ä»¥ä¸‹æ–¹æ¡ˆï¼Œå°‡æœƒé€²è¡Œé€ç›®éŒ„æ‰¾å°‹`models/`é€™å€‹ç›®éŒ„ï¼Œç•¶æ‰¾åˆ°å¾Œé€²è¡Œè®€å–èˆ‡ä½¿ç”¨ï¼Œæ‡¶äººå¯ä»¥æ¡å–å”·ï½

```cpp
#include <filesystem>
namespace fs = std::filesystem;

string getFullPath(const string& relativePath) {
    fs::path base = fs::current_path(); // ç›®å‰åŸ·è¡Œè·¯å¾‘ï¼ˆå¯èƒ½åœ¨ build è³‡æ–™å¤¾ï¼‰

    // ä¸€ç›´å¾€ä¸Šå±¤ç›®éŒ„æ‰¾ models/
    while (!fs::exists(base / "models")) {
        base = base.parent_path();  // å¾€ä¸Šä¸€å±¤èµ°
        if (base.empty()) break;   // å¦‚æœå·²ç¶“åˆ°æ ¹ç›®éŒ„å°±åœ
    }

    return (base / relativePath).string();  // å›å‚³å®Œæ•´è·¯å¾‘
}
```